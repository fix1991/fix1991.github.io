<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><link rel="icon" href="/favicon.ico"><title>sql查询 | Fix1991</title><meta name="description" content="Fix1991"><link rel="preload" href="/assets/style-kfZVMxxs.css" as="style"><link rel="stylesheet" href="/assets/style-kfZVMxxs.css"><link rel="modulepreload" href="/assets/app-dwrF6lVS.js"><link rel="modulepreload" href="/assets/index.html-DJfbjtki.js"><link rel="prefetch" href="/assets/index.html-CtEiaprw.js" as="script"><link rel="prefetch" href="/assets/index.html-DAiMvQKU.js" as="script"><link rel="prefetch" href="/assets/index.html-K4ZZq6UL.js" as="script"><link rel="prefetch" href="/assets/index.html-_Rjnqxlz.js" as="script"><link rel="prefetch" href="/assets/index.html-C4DibYO7.js" as="script"><link rel="prefetch" href="/assets/index.html-BlaZMIIc.js" as="script"><link rel="prefetch" href="/assets/index.html-D-PblRbn.js" as="script"><link rel="prefetch" href="/assets/index.html-BnREb9Uc.js" as="script"><link rel="prefetch" href="/assets/index.html-BzHfcbsV.js" as="script"><link rel="prefetch" href="/assets/index.html-DAFXbZeG.js" as="script"><link rel="prefetch" href="/assets/index.html-Csg5f3Ai.js" as="script"><link rel="prefetch" href="/assets/index.html-uzk2wGs5.js" as="script"><link rel="prefetch" href="/assets/index.html-Rkb-b7aQ.js" as="script"><link rel="prefetch" href="/assets/index.html-4Z1IN_AN.js" as="script"><link rel="prefetch" href="/assets/index.html-BfJH0v_O.js" as="script"><link rel="prefetch" href="/assets/index.html-9SYNlsm2.js" as="script"><link rel="prefetch" href="/assets/index.html-BTVEEJ-I.js" as="script"><link rel="prefetch" href="/assets/index.html-DiDgeBJT.js" as="script"><link rel="prefetch" href="/assets/index.html-BNEdhWR2.js" as="script"><link rel="prefetch" href="/assets/index.html-BEiUhawv.js" as="script"><link rel="prefetch" href="/assets/index.html-DYFwANYH.js" as="script"><link rel="prefetch" href="/assets/index.html-Cipb4Mma.js" as="script"><link rel="prefetch" href="/assets/index.html-BQni4EN-.js" as="script"><link rel="prefetch" href="/assets/index.html-CCh3b-Bw.js" as="script"><link rel="prefetch" href="/assets/index.html-B9k_tVPn.js" as="script"><link rel="prefetch" href="/assets/index.html-BHG62joI.js" as="script"><link rel="prefetch" href="/assets/index.html-Gbgz34Sm.js" as="script"><link rel="prefetch" href="/assets/index.html-Dz-QoTS6.js" as="script"><link rel="prefetch" href="/assets/index.html-DpVc3U67.js" as="script"><link rel="prefetch" href="/assets/index.html-DrtL5KlU.js" as="script"><link rel="prefetch" href="/assets/index.html-cOd-1wK7.js" as="script"><link rel="prefetch" href="/assets/index.html-hDZK_MaQ.js" as="script"><link rel="prefetch" href="/assets/index.html-BHfRI0P5.js" as="script"><link rel="prefetch" href="/assets/index.html-2blee9_n.js" as="script"><link rel="prefetch" href="/assets/index.html-CS-27XeJ.js" as="script"><link rel="prefetch" href="/assets/index.html-B4WAjG6G.js" as="script"><link rel="prefetch" href="/assets/index.html-B9oD_7mo.js" as="script"><link rel="prefetch" href="/assets/index.html-DxzR7uUu.js" as="script"><link rel="prefetch" href="/assets/index.html-BNJdtgng.js" as="script"><link rel="prefetch" href="/assets/index.html-BET7ZG9L.js" as="script"><link rel="prefetch" href="/assets/index.html-B3fWMd00.js" as="script"><link rel="prefetch" href="/assets/index.html-BSVdqWCR.js" as="script"><link rel="prefetch" href="/assets/index.html-BoMvnAZS.js" as="script"><link rel="prefetch" href="/assets/index.html-g7z86Bcl.js" as="script"><link rel="prefetch" href="/assets/index.html-DX5baOdY.js" as="script"><link rel="prefetch" href="/assets/index.html-Dgjwdlmw.js" as="script"><link rel="prefetch" href="/assets/index.html-D_NzCrPn.js" as="script"><link rel="prefetch" href="/assets/index.html-CvIAZjCg.js" as="script"><link rel="prefetch" href="/assets/index.html-Bxy4C7w-.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz-ZrYRg.js" as="script"><link rel="prefetch" href="/assets/index.html-DYJ3MriY.js" as="script"><link rel="prefetch" href="/assets/index.html-BYVmxdUs.js" as="script"><link rel="prefetch" href="/assets/index.html-wyZNvY3R.js" as="script"><link rel="prefetch" href="/assets/index.html-C0caMIes.js" as="script"><link rel="prefetch" href="/assets/index.html-C8Oj83JN.js" as="script"><link rel="prefetch" href="/assets/index.html-DIlYIOGA.js" as="script"><link rel="prefetch" href="/assets/index.html-DnL4gBKn.js" as="script"><link rel="prefetch" href="/assets/index.html-3GGouQzm.js" as="script"><link rel="prefetch" href="/assets/index.html-D2Mdh457.js" as="script"><link rel="prefetch" href="/assets/index.html-Duf_o8o_.js" as="script"><link rel="prefetch" href="/assets/index.html-CIVt0f5m.js" as="script"><link rel="prefetch" href="/assets/index.html-BPdn1R4g.js" as="script"><link rel="prefetch" href="/assets/index.html-BSQu3_xc.js" as="script"><link rel="prefetch" href="/assets/index.html-Ch27ZBcl.js" as="script"><link rel="prefetch" href="/assets/index.html-tXqYJUN5.js" as="script"><link rel="prefetch" href="/assets/index.html-BFUrIYF3.js" as="script"><link rel="prefetch" href="/assets/index.html-BtRO49aQ.js" as="script"><link rel="prefetch" href="/assets/index.html-3NVkEdBQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DOEjGWgf.js" as="script"><link rel="prefetch" href="/assets/index.html-DNcAfaZQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Dl9FP-rQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DTmfMYFe.js" as="script"><link rel="prefetch" href="/assets/index.html-BSFEkIX1.js" as="script"><link rel="prefetch" href="/assets/index.html-CLfglXve.js" as="script"><link rel="prefetch" href="/assets/index.html-DntEgRA4.js" as="script"><link rel="prefetch" href="/assets/index.html-B6lYTGQI.js" as="script"><link rel="prefetch" href="/assets/index.html-Cz62hFab.js" as="script"><link rel="prefetch" href="/assets/index.html-xkLr7EQe.js" as="script"><link rel="prefetch" href="/assets/index.html-Dhn9q5uN.js" as="script"><link rel="prefetch" href="/assets/index.html-r0Q_t3um.js" as="script"><link rel="prefetch" href="/assets/index.html-CN5Jw7sr.js" as="script"><link rel="prefetch" href="/assets/index.html-BGY_GP2n.js" as="script"><link rel="prefetch" href="/assets/index.html-nFKt8gCF.js" as="script"><link rel="prefetch" href="/assets/index.html-63xQ6PV7.js" as="script"><link rel="prefetch" href="/assets/index.html-Dn_7MbnU.js" as="script"><link rel="prefetch" href="/assets/index.html-BJmpS9YG.js" as="script"><link rel="prefetch" href="/assets/index.html-OEe7Px5B.js" as="script"><link rel="prefetch" href="/assets/index.html-Cx-B7JCw.js" as="script"><link rel="prefetch" href="/assets/index.html-Bg3_BYnY.js" as="script"><link rel="prefetch" href="/assets/index.html-Br4g_PDe.js" as="script"><link rel="prefetch" href="/assets/index.html-DubwBkuL.js" as="script"><link rel="prefetch" href="/assets/index.html-HIQVVrKg.js" as="script"><link rel="prefetch" href="/assets/index.html-CU4zVXV1.js" as="script"><link rel="prefetch" href="/assets/index.html-CWqPcyKy.js" as="script"><link rel="prefetch" href="/assets/index.html-DW0B-Gfb.js" as="script"><link rel="prefetch" href="/assets/index.html-DpJSYsMZ.js" as="script"><link rel="prefetch" href="/assets/index.html-C4vKxRPg.js" as="script"><link rel="prefetch" href="/assets/index.html-Dai87JiH.js" as="script"><link rel="prefetch" href="/assets/index.html-zX8vWR_q.js" as="script"><link rel="prefetch" href="/assets/index.html-CN5jFHgK.js" as="script"><link rel="prefetch" href="/assets/index.html-5iiCBsiK.js" as="script"><link rel="prefetch" href="/assets/index.html-DtMQ1ohy.js" as="script"><link rel="prefetch" href="/assets/index.html-C2FZT8Tj.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw0KM9bI.js" as="script"><link rel="prefetch" href="/assets/index.html-C2t-75K_.js" as="script"><link rel="prefetch" href="/assets/index.html-DvOGBhVR.js" as="script"><link rel="prefetch" href="/assets/index.html-BkAhnMM-.js" as="script"><link rel="prefetch" href="/assets/index.html-BsFgapik.js" as="script"><link rel="prefetch" href="/assets/index.html-BiAdPNEm.js" as="script"><link rel="prefetch" href="/assets/index.html-DNcHYMHl.js" as="script"><link rel="prefetch" href="/assets/index.html-bSeIfh0i.js" as="script"><link rel="prefetch" href="/assets/index.html-DDhpdVZ3.js" as="script"><link rel="prefetch" href="/assets/index.html-zqSpnvTO.js" as="script"><link rel="prefetch" href="/assets/index.html-B8jO3qLO.js" as="script"><link rel="prefetch" href="/assets/index.html-BzqvVYg5.js" as="script"><link rel="prefetch" href="/assets/index.html-DIcurAs-.js" as="script"><link rel="prefetch" href="/assets/index.html-BnRz983l.js" as="script"><link rel="prefetch" href="/assets/index.html-CFLmuS25.js" as="script"><link rel="prefetch" href="/assets/index.html-BFA-lv6G.js" as="script"><link rel="prefetch" href="/assets/index.html-BbzifZ4C.js" as="script"><link rel="prefetch" href="/assets/index.html-j6svvQUG.js" as="script"><link rel="prefetch" href="/assets/index.html-Dfo1HGJx.js" as="script"><link rel="prefetch" href="/assets/index.html-CFR8Tv0N.js" as="script"><link rel="prefetch" href="/assets/index.html-CuC-BRv-.js" as="script"><link rel="prefetch" href="/assets/index.html-B6YReEwN.js" as="script"><link rel="prefetch" href="/assets/index.html-BwLNp909.js" as="script"><link rel="prefetch" href="/assets/index.html-CwsKtsY9.js" as="script"><link rel="prefetch" href="/assets/index.html-CjLr8tS7.js" as="script"><link rel="prefetch" href="/assets/index.html-B1DQHKV3.js" as="script"><link rel="prefetch" href="/assets/index.html-Bh37eTqG.js" as="script"><link rel="prefetch" href="/assets/index.html-F_eU9ed2.js" as="script"><link rel="prefetch" href="/assets/index.html-DZrHfYYl.js" as="script"><link rel="prefetch" href="/assets/index.html-B96sWZGj.js" as="script"><link rel="prefetch" href="/assets/index.html-DVojPfeG.js" as="script"><link rel="prefetch" href="/assets/index.html-B13eJt7Q.js" as="script"><link rel="prefetch" href="/assets/index.html-oY1Na22d.js" as="script"><link rel="prefetch" href="/assets/index.html-BTHgsvug.js" as="script"><link rel="prefetch" href="/assets/index.html-DKXBHw_L.js" as="script"><link rel="prefetch" href="/assets/index.html-CRj-4JCe.js" as="script"><link rel="prefetch" href="/assets/index.html-C9I2pwh3.js" as="script"><link rel="prefetch" href="/assets/index.html-BPKRFi8Z.js" as="script"><link rel="prefetch" href="/assets/index.html-CJyvwmW5.js" as="script"><link rel="prefetch" href="/assets/index.html-DGztKJce.js" as="script"><link rel="prefetch" href="/assets/index.html-C159jrl2.js" as="script"><link rel="prefetch" href="/assets/index.html-CQl7szMr.js" as="script"><link rel="prefetch" href="/assets/index.html-CvVNDKRS.js" as="script"><link rel="prefetch" href="/assets/index.html-KwnGAIGz.js" as="script"><link rel="prefetch" href="/assets/index.html-DM-P8Lj6.js" as="script"><link rel="prefetch" href="/assets/index.html-B03voUKo.js" as="script"><link rel="prefetch" href="/assets/index.html-BYwlPuzy.js" as="script"><link rel="prefetch" href="/assets/index.html-BeZMpjHe.js" as="script"><link rel="prefetch" href="/assets/index.html-DsuY-B0Z.js" as="script"><link rel="prefetch" href="/assets/index.html-BKtI3KZ2.js" as="script"><link rel="prefetch" href="/assets/index.html-DpLm1YNH.js" as="script"><link rel="prefetch" href="/assets/index.html-BNdRsxXx.js" as="script"><link rel="prefetch" href="/assets/index.html-C6B7xV0k.js" as="script"><link rel="prefetch" href="/assets/index.html-B5ocazX8.js" as="script"><link rel="prefetch" href="/assets/index.html-Daq6O14O.js" as="script"><link rel="prefetch" href="/assets/index.html-opFBsWIj.js" as="script"><link rel="prefetch" href="/assets/index.html-ZX7gwfKL.js" as="script"><link rel="prefetch" href="/assets/index.html-BNOtpbV8.js" as="script"><link rel="prefetch" href="/assets/index.html-Cirqbune.js" as="script"><link rel="prefetch" href="/assets/index.html-CuEgnVdC.js" as="script"><link rel="prefetch" href="/assets/index.html-CygRJ_NH.js" as="script"><link rel="prefetch" href="/assets/index.html-CBLnjnwI.js" as="script"><link rel="prefetch" href="/assets/index.html-_hsyV1MW.js" as="script"><link rel="prefetch" href="/assets/index.html-MAw93KkF.js" as="script"><link rel="prefetch" href="/assets/index.html-SJ2lvDKv.js" as="script"><link rel="prefetch" href="/assets/index.html-D0LlvkIj.js" as="script"><link rel="prefetch" href="/assets/index.html-AxNTnM3-.js" as="script"><link rel="prefetch" href="/assets/index.html-ChrcWtGf.js" as="script"><link rel="prefetch" href="/assets/index.html-BIqQThp8.js" as="script"><link rel="prefetch" href="/assets/index.html-998ca0Vz.js" as="script"><link rel="prefetch" href="/assets/index.html-Drp_-IHS.js" as="script"><link rel="prefetch" href="/assets/index.html-DW1mH6g3.js" as="script"><link rel="prefetch" href="/assets/index.html-vv7InRVc.js" as="script"><link rel="prefetch" href="/assets/index.html-Bin7NENB.js" as="script"><link rel="prefetch" href="/assets/index.html-BxeSZ01O.js" as="script"><link rel="prefetch" href="/assets/index.html-CM2TOvYA.js" as="script"><link rel="prefetch" href="/assets/index.html-DjKqjUxH.js" as="script"><link rel="prefetch" href="/assets/index.html-CI3F-XAn.js" as="script"><link rel="prefetch" href="/assets/index.html-BsIDslJO.js" as="script"><link rel="prefetch" href="/assets/index.html-C0xJxzKD.js" as="script"><link rel="prefetch" href="/assets/index.html-CaMsDMlT.js" as="script"><link rel="prefetch" href="/assets/index.html-jsLHQ0K-.js" as="script"><link rel="prefetch" href="/assets/index.html-DpAvr2DY.js" as="script"><link rel="prefetch" href="/assets/index.html-Dyi5lQFS.js" as="script"><link rel="prefetch" href="/assets/index.html-DsVYD6BS.js" as="script"><link rel="prefetch" href="/assets/index.html-CE-ChE-z.js" as="script"><link rel="prefetch" href="/assets/index.html-8H7PgSuS.js" as="script"><link rel="prefetch" href="/assets/index.html-FQmFd53Q.js" as="script"><link rel="prefetch" href="/assets/index.html-CYifS_H8.js" as="script"><link rel="prefetch" href="/assets/index.html-BalIgbFT.js" as="script"><link rel="prefetch" href="/assets/index.html-wXTrquDM.js" as="script"><link rel="prefetch" href="/assets/index.html-BSwtrPR5.js" as="script"><link rel="prefetch" href="/assets/index.html-B-04ZROv.js" as="script"><link rel="prefetch" href="/assets/index.html-BQJ_Xs5z.js" as="script"><link rel="prefetch" href="/assets/index.html-D7iAza8B.js" as="script"><link rel="prefetch" href="/assets/index.html-Gl_n9XEf.js" as="script"><link rel="prefetch" href="/assets/index.html-qrcEXYBR.js" as="script"><link rel="prefetch" href="/assets/index.html-DrLpqY8L.js" as="script"><link rel="prefetch" href="/assets/index.html-DVQtBh4d.js" as="script"><link rel="prefetch" href="/assets/index.html-nUT8GfnL.js" as="script"><link rel="prefetch" href="/assets/index.html-2D97ZGkH.js" as="script"><link rel="prefetch" href="/assets/index.html-tbyV6WMP.js" as="script"><link rel="prefetch" href="/assets/index.html-BNUQovei.js" as="script"><link rel="prefetch" href="/assets/index.html-Dl72pC7r.js" as="script"><link rel="prefetch" href="/assets/index.html-9vm5rC0q.js" as="script"><link rel="prefetch" href="/assets/index.html-COo4vB6T.js" as="script"><link rel="prefetch" href="/assets/index.html-DXlgDghH.js" as="script"><link rel="prefetch" href="/assets/index.html-3B23hF3l.js" as="script"><link rel="prefetch" href="/assets/index.html-CCsAH77H.js" as="script"><link rel="prefetch" href="/assets/index.html-CG_ADtM2.js" as="script"><link rel="prefetch" href="/assets/index.html-Clayet3c.js" as="script"><link rel="prefetch" href="/assets/index.html-WDh2YuI-.js" as="script"><link rel="prefetch" href="/assets/index.html-D73hfbQm.js" as="script"><link rel="prefetch" href="/assets/index.html-CqlIFPKb.js" as="script"><link rel="prefetch" href="/assets/index.html-CtU0wYWF.js" as="script"><link rel="prefetch" href="/assets/index.html-Bav7ZxML.js" as="script"><link rel="prefetch" href="/assets/index.html-a1vrAFQZ.js" as="script"><link rel="prefetch" href="/assets/index.html-Cej2tEZK.js" as="script"><link rel="prefetch" href="/assets/index.html-CtcBxU9p.js" as="script"><link rel="prefetch" href="/assets/index.html-oF1bSV2d.js" as="script"><link rel="prefetch" href="/assets/index.html-52ar3Q1P.js" as="script"><link rel="prefetch" href="/assets/index.html-BW_3zexV.js" as="script"><link rel="prefetch" href="/assets/index.html-D0Ouvi_s.js" as="script"><link rel="prefetch" href="/assets/index.html-B5gjHNn_.js" as="script"><link rel="prefetch" href="/assets/index.html-BKOZpylX.js" as="script"><link rel="prefetch" href="/assets/index.html-CWvCJSlg.js" as="script"><link rel="prefetch" href="/assets/index.html-DR591I_V.js" as="script"><link rel="prefetch" href="/assets/index.html-CivQkGWQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Dyyp2NDY.js" as="script"><link rel="prefetch" href="/assets/index.html-C2TB8a4q.js" as="script"><link rel="prefetch" href="/assets/index.html-DDKSp6-j.js" as="script"><link rel="prefetch" href="/assets/index.html-CgR8GAx0.js" as="script"><link rel="prefetch" href="/assets/index.html-FMilF-se.js" as="script"><link rel="prefetch" href="/assets/index.html-TcXD7b8p.js" as="script"><link rel="prefetch" href="/assets/index.html-BoSonz9g.js" as="script"><link rel="prefetch" href="/assets/index.html-DJiEBElz.js" as="script"><link rel="prefetch" href="/assets/index.html-5lrLMk0y.js" as="script"><link rel="prefetch" href="/assets/index.html-BZalx1th.js" as="script"><link rel="prefetch" href="/assets/index.html-BVEYeLnX.js" as="script"><link rel="prefetch" href="/assets/index.html-CNsosfF_.js" as="script"><link rel="prefetch" href="/assets/index.html-9sCQVpn1.js" as="script"><link rel="prefetch" href="/assets/index.html-DQ5dxA0G.js" as="script"><link rel="prefetch" href="/assets/index.html-CrFABdgE.js" as="script"><link rel="prefetch" href="/assets/index.html-BzU9dG6J.js" as="script"><link rel="prefetch" href="/assets/index.html-Cs_4KehS.js" as="script"><link rel="prefetch" href="/assets/index.html-fttQFxbk.js" as="script"><link rel="prefetch" href="/assets/index.html-CF62v_yV.js" as="script"><link rel="prefetch" href="/assets/index.html-CNdPMBLS.js" as="script"><link rel="prefetch" href="/assets/index.html-CSZqxbpB.js" as="script"><link rel="prefetch" href="/assets/index.html-CYvDEJdS.js" as="script"><link rel="prefetch" href="/assets/index.html-DGgcICLQ.js" as="script"><link rel="prefetch" href="/assets/index.html-DuZDWD9e.js" as="script"><link rel="prefetch" href="/assets/index.html-bsmxuTjK.js" as="script"><link rel="prefetch" href="/assets/index.html-CEh3YXlj.js" as="script"><link rel="prefetch" href="/assets/index.html-BAA2kyG4.js" as="script"><link rel="prefetch" href="/assets/index.html-BsAb4mRo.js" as="script"><link rel="prefetch" href="/assets/index.html-CqBcy5GK.js" as="script"><link rel="prefetch" href="/assets/index.html-D6JRyI8S.js" as="script"><link rel="prefetch" href="/assets/index.html-D-Sc13Y6.js" as="script"><link rel="prefetch" href="/assets/index.html-j91c3S97.js" as="script"><link rel="prefetch" href="/assets/index.html-Bf1nKDEm.js" as="script"><link rel="prefetch" href="/assets/index.html-BzgF-wXK.js" as="script"><link rel="prefetch" href="/assets/index.html-BsxBGL-S.js" as="script"><link rel="prefetch" href="/assets/index.html-Dmy-Ypfh.js" as="script"><link rel="prefetch" href="/assets/index.html-DenDS4AO.js" as="script"><link rel="prefetch" href="/assets/index.html-ZBaEG6pB.js" as="script"><link rel="prefetch" href="/assets/index.html-IM7MdIYv.js" as="script"><link rel="prefetch" href="/assets/index.html-BM_27e2L.js" as="script"><link rel="prefetch" href="/assets/index.html-BDlc0ODu.js" as="script"><link rel="prefetch" href="/assets/index.html-Kq12ZzGn.js" as="script"><link rel="prefetch" href="/assets/index.html-Byt0AUzp.js" as="script"><link rel="prefetch" href="/assets/index.html-DU03Tvry.js" as="script"><link rel="prefetch" href="/assets/index.html-Du9d5PnY.js" as="script"><link rel="prefetch" href="/assets/index.html-DJObuOa1.js" as="script"><link rel="prefetch" href="/assets/index.html-BCbRfo6n.js" as="script"><link rel="prefetch" href="/assets/index.html-DgoXAYMI.js" as="script"><link rel="prefetch" href="/assets/index.html-DCYpaZ6P.js" as="script"><link rel="prefetch" href="/assets/index.html-LIrNLGft.js" as="script"><link rel="prefetch" href="/assets/index.html-BzLdvI0q.js" as="script"><link rel="prefetch" href="/assets/index.html-CYeAw7xe.js" as="script"><link rel="prefetch" href="/assets/index.html-Bs0FPxCo.js" as="script"><link rel="prefetch" href="/assets/index.html-Dua2Ecpo.js" as="script"><link rel="prefetch" href="/assets/index.html-CbuW8MWT.js" as="script"><link rel="prefetch" href="/assets/index.html-D4p-EML0.js" as="script"><link rel="prefetch" href="/assets/index.html-DHaMjiqy.js" as="script"><link rel="prefetch" href="/assets/index.html-DhRq4QTJ.js" as="script"><link rel="prefetch" href="/assets/index.html-CpHz36_0.js" as="script"><link rel="prefetch" href="/assets/index.html-CqoA011U.js" as="script"><link rel="prefetch" href="/assets/index.html-SQDFLn-5.js" as="script"><link rel="prefetch" href="/assets/index.html-jBr4ATit.js" as="script"><link rel="prefetch" href="/assets/404.html-CUhBL87s.js" as="script"><link rel="prefetch" href="/assets/index.html-BT36enXZ.js" as="script"><link rel="prefetch" href="/assets/index.html-cmGNi3S7.js" as="script"><link rel="prefetch" href="/assets/index.html-L5Hu7ju6.js" as="script"><link rel="prefetch" href="/assets/index.html-CXbcUcAj.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-DGfK4LtX.js" as="script"><link rel="prefetch" href="/assets/SearchBox-DgePoqCN.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-CzvgiyeR.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-68cd6b44><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-68cd6b44 data-v-d34f28d6><div class="vp-navbar" vp-navbar data-v-d34f28d6 data-v-70d97d16><div class="wrapper" data-v-70d97d16><div class="container" data-v-70d97d16><div class="title" data-v-70d97d16><div class="vp-navbar-title has-sidebar" data-v-70d97d16 data-v-2c8d4622><a class="vp-link no-icon link title" href="/" data-v-2c8d4622 data-v-442a52aa><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/favicon.ico" alt data-v-7fbfbc9b><!--]--><!--[--><img class="vp-image light logo" src="/favicon.ico" alt data-v-7fbfbc9b><!--]--><!--]--><!--]--><span data-v-2c8d4622>Fix1991</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-70d97d16><div class="content-body" data-v-70d97d16><!--[--><!--]--><div class="vp-navbar-search search" data-v-70d97d16><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-70d97d16 data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>首页</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group active" data-v-d43c1732 data-v-feafea4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-feafea4e><span class="text" data-v-feafea4e><!----><!----><span data-v-feafea4e>笔记</span><span class="vpi-chevron-down text-icon" data-v-feafea4e></span></span></button><div class="menu" data-v-feafea4e><div class="vp-menu" data-v-feafea4e data-v-709dc2b1><div class="items" data-v-709dc2b1><!--[--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/projects/1qx76q2b/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 项目<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/java/33t6upvz/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> Java<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/python/3xdslzb9/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> Python<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/web/rypds3ps/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> Web前端<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link active" href="/notes/database/eu1e2o1d/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 数据库技术<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/middleware/s5cgh29g/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 中间件技术<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/miniprogram/#" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 小程序开发<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/ai/1wzp28iv/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> AI<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/cs/3djwb0qj/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 计算机基础<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/#" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 数学<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/minecraft/vptuj4gv/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> Minecraft<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/#" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 第三方服务<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/web/rdbfieru/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 建站<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/funs/dns3najj/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> Fun things<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/devtools/2sr7xao3/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 开发工具<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-709dc2b1 data-v-aaf95230><a class="vp-link no-icon link" href="/notes/software/m56cz3l8/" data-v-aaf95230 data-v-442a52aa><!--[--><!----> 常用软件<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-70d97d16 data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-70d97d16 data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/ianping" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-70d97d16 data-v-652282fd data-v-feafea4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-feafea4e><span class="vpi-more-horizontal icon" data-v-feafea4e></span></button><div class="menu" data-v-feafea4e><div class="vp-menu" data-v-feafea4e data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/ianping" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-70d97d16 data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-70d97d16><div class="divider-line" data-v-70d97d16></div></div></div><!----></header><div class="vp-local-nav reached-top is-blog" data-v-68cd6b44 data-v-1dc3518c><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-1dc3518c><span class="vpi-align-left menu-icon" data-v-1dc3518c></span><span class="menu-text" data-v-1dc3518c>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-1dc3518c data-v-423a73ec><button data-v-423a73ec>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-68cd6b44 data-v-360082b7><div class="curtain" data-v-360082b7></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-360082b7><span id="sidebar-aria-label" class="visually-hidden" data-v-360082b7> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>sql</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/6jownszu/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>sql增删改</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/pqmd808e/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>sql数据库和表</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/eu1e2o1d/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>sql查询</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/d6uyf0ll/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>sql经典实例</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>mysql</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/j8gjhfss/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>mysql事务</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/09n612a4/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>mysql安装</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/6ixixr0m/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>mysql索引</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/p4jf04mv/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>mysql集群</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>postgresql</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/ngio4cr2/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>postgresql安装</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/e5rtxj1r/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>postgresql函数</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/n5c21y7u/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>postgresql服务器管理</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>oracle</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/irxnl9ai/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Oracle基础</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/j80kyty0/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Oracle安装</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/fxwd3dqr/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Oracle进阶</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>redis</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/8rhh5i1u/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis环境</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/gprnv62c/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis客户端</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/2uo5tz81/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis数据结构</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/973tb4a7/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis应用场景</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/alsp7lbh/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis补充</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/wd2r9kcw/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis高可用机制</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/3icssroc/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>Redis高级特性</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>mongodb</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/cphjfra6/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>MongoDB安装</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/qwpubv1e/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>MongoDB基础</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-473fd05b><section class="vp-sidebar-item sidebar-item level-0 collapsible" data-v-473fd05b data-v-b88148be><div class="item" role="button" tabindex="0" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><h2 class="text" data-v-b88148be>demos</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b88148be><span class="vpi-chevron-right caret-icon" data-v-b88148be></span></div></div><div class="items" data-v-b88148be><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/6r836v2d/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>在线商城系统表设计</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-b88148be data-v-b88148be><div class="item" data-v-b88148be><div class="indicator" data-v-b88148be></div><!----><a class="vp-link no-icon link link" href="/notes/database/mco5hsx6/" data-v-b88148be data-v-442a52aa><!--[--><p class="text" data-v-b88148be>权限管理系统设计</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-68cd6b44 data-v-eb709286><div class="has-sidebar has-aside vp-doc-container" data-v-fc1170e4><!--[--><!--]--><div class="container" data-v-fc1170e4><div class="aside" vp-outline data-v-fc1170e4><div class="aside-curtain" data-v-fc1170e4></div><div class="aside-container" data-v-fc1170e4><div class="aside-content" data-v-fc1170e4><div class="vp-doc-aside" data-v-fc1170e4 data-v-5976474c><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-5976474c data-v-aa56eba0><div class="content" data-v-aa56eba0><div class="outline-marker" data-v-aa56eba0></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-aa56eba0><span data-v-aa56eba0>此页内容</span><span class="vpi-print icon" data-v-aa56eba0></span></div><ul class="root" data-v-aa56eba0 data-v-54c74388><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5976474c></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-fc1170e4><div class="content-container" data-v-fc1170e4><!--[--><!--]--><main class="main" data-v-fc1170e4><nav class="vp-breadcrumb" data-v-fc1170e4 data-v-f5c5c12d><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-f5c5c12d><!--[--><li property="itemListElement" typeof="ListItem" data-v-f5c5c12d><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-f5c5c12d data-v-442a52aa><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-f5c5c12d></span><meta property="name" content="首页" data-v-f5c5c12d><meta property="position" content="1" data-v-f5c5c12d></li><li property="itemListElement" typeof="ListItem" data-v-f5c5c12d><span class="vp-link no-icon breadcrumb" href="/" property="item" typeof="WebPage" data-v-f5c5c12d data-v-442a52aa><!--[-->sql<!--]--><!----></span><span class="vpi-chevron-right" data-v-f5c5c12d></span><meta property="name" content="sql" data-v-f5c5c12d><meta property="position" content="2" data-v-f5c5c12d></li><li property="itemListElement" typeof="ListItem" data-v-f5c5c12d><a class="vp-link no-icon link breadcrumb current" href="/notes/database/eu1e2o1d/" property="item" typeof="WebPage" data-v-f5c5c12d data-v-442a52aa><!--[-->sql查询<!--]--><!----></a><!----><meta property="name" content="sql查询" data-v-f5c5c12d><meta property="position" content="3" data-v-f5c5c12d></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-8593162d>sql查询 <!----></h1><div class="vp-doc-meta" data-v-8593162d><p class="reading-time" data-v-8593162d><span class="vpi-books icon" data-v-8593162d></span><span data-v-8593162d>3454字</span><span data-v-8593162d>约12分钟</span></p><!----><p class="create-time" data-v-8593162d><span class="vpi-clock icon" data-v-8593162d></span><span data-v-8593162d>2024-11-24</span></p></div><!--]--><div class="_notes_database_eu1e2o1d_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-fc1170e4><div data-v-fc1170e4><h2 id="sql查询子句语法与执行顺序" tabindex="-1"><a class="header-anchor" href="#sql查询子句语法与执行顺序"><span>sql查询子句语法与执行顺序</span></a></h2><p>1个sql查询语句包括1个或多个子句，其语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DISTINCT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">结果集字段列表</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">表1</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">[INNER|LEFT|RIGHT] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">JOIN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">表2</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ON</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">联结条件</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">过滤条件表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">GROUP BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">分组字段列表</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">HAVING</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">分组过滤条件表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">排序字段列表 [ASC|DESC]</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LIMIT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">限制结果集记录数</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> OFFSET </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">限制开始的行号</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>sql子句的执行顺序如下：</p><ol><li><code>FROM</code>子句：确定从哪个表中取数据。如果存在多表联结，就按照联结条件进行组合，返回结果集</li><li><code>WHERE</code>子句：过滤不满足条件的记录</li><li><code>GROUP BY</code>子句：将WHERE过滤后的结果集进行分组，</li><li>聚合函数：执行<code>SELECT</code>中的聚合计算：求和、计数等</li><li><code>HAVING</code>子句：对分组、聚合的结果集进行过滤</li><li><code>SELECT</code>子句：执行完所有的过滤条件后，从结果集中选取需要的列</li><li><code>DISTINCT</code>：从<code>SELECT</code>子句的结果集中，去除重复的记录</li><li><code>ORDER BY</code>子句：对结果集进行排序</li><li><code>LIMIT</code>子句：限制结果集返回的记录数</li></ol><h2 id="select子句" tabindex="-1"><a class="header-anchor" href="#select子句"><span><code>SELECT</code>子句</span></a></h2><p><code>SELECT</code>子句指定结果集包含的列。1个sql至少需要包含<code>SELECT</code>子句</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">9787020002207</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">红楼梦</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">120</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, CURRENT_DATE;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>可以为列设置别名</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">9787020002207</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">红楼梦</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> title, </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">120</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price, CURRENT_DATE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> create_at;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果别名为非英文字母、数字、下划线，需要用双引号括起来</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">9787020002207</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">编号</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">红楼梦</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">书名</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">120</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">价格</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, CURRENT_DATE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">创建时间</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="from子句" tabindex="-1"><a class="header-anchor" href="#from子句"><span><code>FROM</code>子句</span></a></h2><p><code>FROM</code>子句指定要查询的数据表。</p><p><code>SELECT</code>子句中，使用星号*表示查询所有列</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>查询列出的列</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, author, price</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="where子句" tabindex="-1"><a class="header-anchor" href="#where子句"><span><code>WHERE子句</code></span></a></h2><p><code>WHERE</code>子句用于过滤结果集。</p><p>在条件表达式中，可以使用各种运算符：</p><ul><li>算术运算符：<code>+ - * /</code></li><li>比较运算符：<code>= &lt;&gt; &gt; &gt;- &lt; &lt;=</code></li><li>逻辑运算符：<code>NOT AND OR</code></li></ul><p>还可以使用以下谓词：</p><ul><li><p><code>LIKE</code>：<code>_</code>表示1个任意字符，<code>%</code>表示0或多个任意字符</p></li><li><p><code>IS NULL</code> <code>IS NOT NULL</code></p></li><li><p><code>BETWEEN</code></p></li><li><p><code>IN</code> <code>NOT IN</code></p></li><li><p><code>EXISTS</code> <code>NOT EXISTS</code></p></li></ul><p>需要注意的是，<code>NULL</code>与任何数进行算术或比较运算，结果都是<code>NULL</code>，也不能参与逻辑运算，结果是不确定的。</p><p>错误示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NULL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在条件表达式中使用<code>NULL</code>时，要用<code>IS NULL</code> 或 <code>IS NOT NULL</code></p><p>正确示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">IS NOT NULL</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="distinct去重" tabindex="-1"><a class="header-anchor" href="#distinct去重"><span><code>DISTINCT</code>去重</span></a></h2><p><code>DISTINCT</code>关键词可以对<code>SELECT</code>的结果集进行去重，支持对多列的组合去重。</p><p>示例：从图书表中查询所有的作者</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT DISTINCT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> author </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="聚合函数与group-by、having子句" tabindex="-1"><a class="header-anchor" href="#聚合函数与group-by、having子句"><span>聚合函数与<code>GROUP BY</code>、<code>Having</code>子句</span></a></h2><h3 id="聚合函数" tabindex="-1"><a class="header-anchor" href="#聚合函数"><span>聚合函数</span></a></h3><p>5个常用的聚合函数：</p><ul><li><code>COUNT</code>：统计记录数量</li><li><code>SUM</code>：求和</li><li><code>AVG</code>：求平均值</li><li><code>MIN</code>：求最小值</li><li><code>MAX</code>：求最大值</li></ul><p>聚合函数在进行统计时，会自动去除值为NULL的记录。不过，对于<code>COUNT</code>函数，可以使用<code>count(*)</code> 或 <code>count(1)</code>的方式，使其包括NULL值记录。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price), </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">), </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">		min</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">        max</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">        sum</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">        avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>聚合函数中，支持先使用<code>DISTINCT</code>去除重复记录后，再进行统计。</p><p>示例：统计图书表中图书作者的数量</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DISTINCT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> author) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">authors</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="group-by子句" tabindex="-1"><a class="header-anchor" href="#group-by子句"><span><code>GROUP BY</code>子句</span></a></h3><p><code>GROUP BY</code>子句将表中的记录按照聚合键进行分组，然后进行聚合计算。</p><p>使用<code>GROUP BY</code>子句时，<code>SELECT</code>子句中只能存在以下3种元素：</p><ul><li>常数</li><li>聚合函数</li><li>聚合键(GROUP BY中指定的列名)</li></ul><p>另外，因为sql执行顺序：<code>GROUP BY</code>子句在前，<code>SELECT</code>子句在后：</p><ul><li><p><code>GROUP BY</code>以及<code>HAVING</code>子句中，不能使用列别名，因为此时还没定义列别名</p></li><li><p>同样的道理，在<code>WHERE</code>子句中也不能使用聚合函数，因为此时还没进行分组、聚合</p></li></ul><p>示例：统计图书表中，每个出版社图书的数量、总价、平均价、最高单价、最低单价</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">数量</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       sum</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">总价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">均价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       max</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最高单价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       min</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最低单价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="having子句" tabindex="-1"><a class="header-anchor" href="#having子句"><span><code>HAVING</code>子句</span></a></h3><p><code>HAVING</code>子句对分组、聚合结果进行过滤。</p><p><code>HAVING</code>子句中可以使用常数、聚合键、聚合函数构造分组过滤条件表达式。</p><p>示例：统计图书表中，每个出版社图书的数量、总价、平均价、最高单价、最低单价，排除出版社为NULL，且总价小于100的记录</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">数量</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       sum</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">总价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">均价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       max</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最高单价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   min</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最低单价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">HAVING</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">IS NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">   AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> sum</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="order-by子句" tabindex="-1"><a class="header-anchor" href="#order-by子句"><span><code>ORDER BY</code>子句</span></a></h2><p><code>ORDER BY</code>子句对结果集进行排序。</p><p>可以在排序键后使用<code>ASC</code>或<code>DESC</code>关键字，指定排序数量；另外，可以指定多个排序键。</p><p>示例：查询图书表中的所有记录，按照出版社和作者名升序排序（字典顺序）</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, author </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>需要注意的是，当排序键的列包括NULL值时，NULL值记录会排在结果集的开头或末尾（取决于具体DBMS的实现）。</p><p>不过，借助一些NULL相关的方言函数，或者CASE表达式，可以明确的将NULL值记录排在结果集的开头或者末尾。</p><p>例如：查询图书表中的所有记录，按照出版社和作者名升序排序（字典顺序），出版社为NULL的排最前面</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> WHEN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">IS NOT NULL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ELSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> END</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, author </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="limit子句" tabindex="-1"><a class="header-anchor" href="#limit子句"><span><code>LIMIT</code>子句</span></a></h2><p><code>LIMIT</code>子句用于限制结果集的大小，结合<code>OFFSET</code>关键字，可以实现分页查询。</p><p>示例：查询图书表中，按照图书名称排序后的前3本图书</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> title</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> OFFSET </span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：查询图书表中，价格最高的图书</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">IS NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DESC</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="视图" tabindex="-1"><a class="header-anchor" href="#视图"><span>视图</span></a></h2><p>视图(View)是一种虚拟表，其内部存储sql查询语句，而不是数据。</p><h3 id="创建视图" tabindex="-1"><a class="header-anchor" href="#创建视图"><span>创建视图</span></a></h3><p>使用<code>CREATE VIEW</code>语句创建视图，语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> VIEW </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">视图名</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">视图列名1</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">视图列名2</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">	&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">SELECT语句</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>创建视图需要注意以下2点：</p><ul><li>不要在SELECT语句中使用<code>ORDER BY</code>子句</li><li>不推荐基于视图创建视图</li></ul><p>示例：创建视图，将读者按照性别分组，统计每种性别的读者人数</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> VIEW</span><span style="--shiki-light:#6F42C1;--shiki-dark:#82AAFF;"> v_readers_group_by_gender</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(gender, readers) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender, </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用视图" tabindex="-1"><a class="header-anchor" href="#使用视图"><span>使用视图</span></a></h3><p>使用视图进行<code>SELECT</code>查询时，可以将其视作数据表。</p><p>示例：使用视图查询每种性别的读者人数</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> v_readers_group_by_gender;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用视图进行更新操作(<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>)，有严格的限制，不推荐对视图进行更新操作。</p><h3 id="删除视图" tabindex="-1"><a class="header-anchor" href="#删除视图"><span>删除视图</span></a></h3><p>使用<code>DROP VIEW</code>语句删除视图</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> VIEW</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> v_readers_group_by_gender;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果要删除的视图存在关联视图，需要使用<code>CASCADE</code>关键字</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">DROP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> VIEW</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> v_readers_group_by_gender CASCADE;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询"><span>子查询</span></a></h2><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><p>子查询可以理解为&quot;一次性视图&quot;。</p><p>通常将子查询语句放到一对括号<code>()</code>中，然后使用<code>AS</code>关键字指定子查询的名称，例如：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender, readers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender, </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> readers</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> readers;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>子查询可以嵌套子查询，不过不推荐编写嵌套层次太深的子查询。</p><h3 id="标量子查询" tabindex="-1"><a class="header-anchor" href="#标量子查询"><span>标量子查询</span></a></h3><p>标量子查询是指返回单一值的子查询（有且只有1个值）。可以用在sql中任何允许单一值的地方。</p><p>在<code>SELECT</code>子句中使用标量子查询，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 查询图书信息，包括所有图书的平均价格</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">平均价格</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在<code>WHERE</code>子句中使用标量子查询，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 查询价格大于平均值的图书</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关联子查询" tabindex="-1"><a class="header-anchor" href="#关联子查询"><span>关联子查询</span></a></h3><p>关联子查询涉及外部查询和内部查询之间的关联：外部查询的每一行记录传递1个值给内部查询，内部查询中使用这个值进行查询，返回相应的记录。</p><p>关联子查询常用于以下场景：</p><ul><li>在细分的组内进行比较</li><li>与<code>EXISTS</code>或<code>NOT EXISTS</code>结合使用</li></ul><p>在细分的组内进行比较，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 查询每个出版社中, 价格大于各个出版社图书平均价格的图书</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">  	SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;"> avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">publisher</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">publisher</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>与<code>EXISTS</code>或<code>NOT EXISTS</code>结合使用，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 查询从来没有出借过的图书</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> EXISTS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_borrow_record </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">book_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="集合操作" tabindex="-1"><a class="header-anchor" href="#集合操作"><span>集合操作</span></a></h2><p>在sql中，数据表、视图、<code>SELECT</code>结果集等都属于集合。</p><p>在进行集合运算时，参与运算的各个集合必须满足以下要求：</p><ul><li>列数一致</li><li>各列数据类型一致</li><li><code>ORDER BY</code>子句只能在最后一个<code>SELECT</code>语句中出现1次</li></ul><h3 id="union-并集" tabindex="-1"><a class="header-anchor" href="#union-并集"><span><code>UNION</code>：并集</span></a></h3><p><code>UNION</code>进行并集计算，自动去重重复记录，使用<code>UNION ALL</code>可以保留重复记录。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">人民文学出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">UNION</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">译林出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="intersect-交集" tabindex="-1"><a class="header-anchor" href="#intersect-交集"><span><code>INTERSECT</code>：交集</span></a></h3><p><code>INTERSECT</code>进行交集计算，自动去重，使用<code>INTERSECT ALL</code>可以保留重复记录。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher, publish_date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">人民文学出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">INTERSECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> ALL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher, publish_date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publish_date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">IS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NULL</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="except-差集" tabindex="-1"><a class="header-anchor" href="#except-差集"><span><code>EXCEPT</code>：差集</span></a></h3><p><code>EXCEPT</code>进行差集计算。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, author, publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">人民文学出版社</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">EXCEPT</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, author, publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> author </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">曹雪芹</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="联结查询" tabindex="-1"><a class="header-anchor" href="#联结查询"><span>联结查询</span></a></h2><p>联结查询是指通过联结条件，将多个表中的数据组合起来，形成新的结果集。</p><h3 id="inner-join-内联接" tabindex="-1"><a class="header-anchor" href="#inner-join-内联接"><span><code>INNER JOIN</code>：内联接</span></a></h3><p>内联结将2张表中满足联结条件的记录组合起来，形成新的结果集。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">INNER JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="left-outer-join-左外联结" tabindex="-1"><a class="header-anchor" href="#left-outer-join-左外联结"><span><code>LEFT OUTER JOIN</code>：左外联结</span></a></h3><p>以左表为主表，将主表中的所有记录与右表中满足联结条件的记录组合起来，形成新的结果集。</p><p><code>LEFT OUTER JOIN</code>可以简写为<code>LEFT JOIN</code>。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="right-outer-join-右外联结" tabindex="-1"><a class="header-anchor" href="#right-outer-join-右外联结"><span><code>RIGHT OUTER JOIN</code>：右外联结</span></a></h3><p>以右表为主表，将主表中的所有记录与左表中满足联结条件的记录组合起来，形成新的结果集。</p><p><code>RIGHT OUTER JOIN</code>可以简写为<code>RIGHT JOIN</code>。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">RIGHT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cross-join-交叉联结" tabindex="-1"><a class="header-anchor" href="#cross-join-交叉联结"><span><code>CROSS JOIN</code>：交叉联结</span></a></h3><p>交叉联结不能指定联结条件，对2张表的所有记录进行交叉组合，其结果集是笛卡尔积。</p><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1.</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">address</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CROSS JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="高级查询" tabindex="-1"><a class="header-anchor" href="#高级查询"><span>高级查询</span></a></h2><h3 id="case表达式" tabindex="-1"><a class="header-anchor" href="#case表达式"><span><code>CASE</code>表达式</span></a></h3><p><code>CASE</code>表达式是一种条件表达式，基于不同的条件返回不同的值。</p><p><code>CASE</code>表达式分为2种：简单<code>CASE</code>表单式和搜索<code>CASE</code>表达式</p><h4 id="简单case表单式" tabindex="-1"><a class="header-anchor" href="#简单case表单式"><span>简单<code>CASE</code>表单式</span></a></h4><p>语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	WHEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	WHEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">	...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	ELSE</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">默认返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 查询读者的性别, male展示为&quot;男&quot;, female展示为&quot;女&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">姓名</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">       (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CASE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> gender </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">male</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">男</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> WHEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">female</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">女</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ELSE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> NULL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> END</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">性别</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="搜索case表达式" tabindex="-1"><a class="header-anchor" href="#搜索case表达式"><span>搜索<code>CASE</code>表达式</span></a></h4><p>语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CASE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">  	WHEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">条件表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	WHEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">条件表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">	...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">	ELSE</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">默认返回值表达式</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">END</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 按照出版年份将图书分类为: 新书, 旧书, 未知</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> title,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">       (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">CASE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> WHEN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> extract(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">YEAR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publish_date) </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 2000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">新书</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> WHEN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> extract(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">YEAR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publish_date) </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;"> 2000</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> THEN</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">旧书</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ELSE</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">未知</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> END</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">新旧类别</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cte表达式" tabindex="-1"><a class="header-anchor" href="#cte表达式"><span>CTE表达式</span></a></h3><p>CTE(Common Table Expressions，公用表表达式)，用于在查询中定义临时性的结果集。</p><p>CTE语法如下：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WITH</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">CTE名称</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> [&lt;列1&gt;, &lt;列2&gt;, ...] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">	-- CTE查询定义语句</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 使用CTE</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">CTE名称</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WITH</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> cte(book, reader, borrow_at, return_at) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">  SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t3</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">borrow_at</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">return_at</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">  FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_borrow_record </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">book_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t2</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">							 LEFT JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">reader_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;"> t3</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#EEFFFF;">id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> cte </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> book </span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">红楼梦</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="exists谓词" tabindex="-1"><a class="header-anchor" href="#exists谓词"><span><code>EXISTS</code>谓词</span></a></h3><h3 id="窗口函数" tabindex="-1"><a class="header-anchor" href="#窗口函数"><span>窗口函数</span></a></h3><p>窗口函数，也叫做OLAP函数(Online Analytical Procession，实时分析处理)。只能用在<code>SELECT</code>子句中。</p><p>窗口函数包括：</p><ul><li>5个聚合函数：<code>COUNT</code>, <code>SUM</code>, <code>AVG</code>, <code>MIN</code>, <code>MAX</code></li><li>OLAP专用函数：<code>RANK</code>, <code>DENSE_RANK</code>, <code>ROW_NUMBER</code>等</li></ul><p>窗口函数语法：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">窗口函数</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> ([PARTITION BY &lt;分区列清单&gt;] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">排序列清单</span><span style="--shiki-light:#D73A49;--shiki-dark:#89DDFF;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例：使用<code>RANK()</code>窗口函数计算排名</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">-- 获取每个出版社中图书按照价格从低到高排序的序号</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher, price, </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">RANK</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> ranking</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/20240310165412-CYXUuroX.png" alt=""></p><p><code>PARTITION BY</code>不是必须的，如果不写，表示将整张表视为1个分区。示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher, price, </span><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">RANK</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">/*PARTITION BY publisher*/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> ranking</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/20240310165708-8tXWY8Xq.png" alt=""></p><p><code>RANK</code>, <code>DENSE_RANK</code> 和 <code>ROW_NUMBER</code> 窗口函数的区别，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> id, title, publisher, price, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       RANK</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">/*PARTITION BY publisher*/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> ranking,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   DENSE_RANK</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">/*PARTITION BY publisher*/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> dense_ranking,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   ROW_NUMBER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#545454;--shiki-dark-font-style:italic;">/*PARTITION BY publisher*/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ASC</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> row_num</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/20240310170608-OKIsywN-.png" alt=""></p><p>将聚合函数作为窗口函数使用，示例：</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes github-light material-theme-darker vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> title, publisher, price,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       count</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">)   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">图书数量</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">       sum</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">图书总价</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   avg</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">平均价格</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   min</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最低价格</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#82AAFF;">	   max</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;">(price) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">OVER</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">PARTITION</span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;"> BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> publisher) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">AS</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C3E88D;">最高价格</span><span style="--shiki-light:#032F62;--shiki-dark:#89DDFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F78C6C;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#EEFFFF;"> t_book</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/assets/20240310172150-D6NGTwbp.png" alt=""></p></div><!----><!----></div></main><footer class="vp-doc-footer" data-v-fc1170e4 data-v-f7268517><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-f7268517><span class="contributors-label" data-v-f7268517>贡献者: </span><span class="contributors-info" data-v-f7268517><!--[--><!--[--><span class="contributor" data-v-f7268517>ianping</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-f7268517><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link prev" href="/notes/database/pqmd808e/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>上一页</span><span class="title" data-v-f7268517>sql数据库和表</span><!--]--><!----></a></div><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link next" href="/notes/database/d6uyf0ll/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>下一页</span><span class="title" data-v-f7268517>sql经典实例</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-68cd6b44 data-v-c122fdb6><span class="percent" data-allow-mismatch data-v-c122fdb6>0%</span><span class="show icon vpi-back-to-top" data-v-c122fdb6></span><svg aria-hidden="true" data-v-c122fdb6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c122fdb6></circle></svg></button><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-dwrF6lVS.js" defer></script></body></html>